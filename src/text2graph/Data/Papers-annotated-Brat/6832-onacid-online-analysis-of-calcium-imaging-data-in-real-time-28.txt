our algorithm integrates and extends the online nmf algorithm of [19] , the cnmf source extraction algorithm of [26] , and the near-online deconvolution algorithm of [11] , to provide a framework capable of real time identification and processing of hundreds of neurons in a typical 2p experiment (512Ã—512 pixel wide fov imaged at 30hz), enabling novel designs of closed-loop experiments.