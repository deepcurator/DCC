the current solution utilizes reaction templates to limit the space, but it suffers from coverage and efficiency issues.